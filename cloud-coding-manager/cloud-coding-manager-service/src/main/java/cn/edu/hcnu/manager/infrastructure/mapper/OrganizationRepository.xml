<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.edu.hcnu.manager.infrastructure.repository.OrganizationRepository">

    <select id="findByUserId" resultType="cn.edu.hcnu.manager.model.po.OrganizationPO">

        select distinct o.id, o.name, o.status, o.create_time, o.update_time
        from organization as o
                 right join `positionPO` as p on o.id = p.organization_id
                 right join `user_position` as up on up.position_id = p.id
    </select>
</mapper>